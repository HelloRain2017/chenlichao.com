---
layout: post
title: okcoin-order-matching-algorithm
description: okcoin-order-matching-algorithm
---

<https://bitcointalk.org/index.php?topic=365341.0;all>

关于OKCoin的交易撮合算法的公布

最近网上出现了一小部分人恶意摸黑OKCoin交易系统，OKCoin一直严格执行国际标准撮合算法，现将撮合的详细算法公开如下：

撮合交易是指卖方在交易市场委托销售定单/销售应单、买方在交易市场委托购买定单/购买应单，交易市场按照价格优先、时间优先原则确定双方成交价格。

撮合价格计算方法：

撮合成交的前提是：买入价（A）必须大于或等于卖出价（B），即A>B。

计算依据：计算机在撮合时实际上是依据前一笔成交价而定出最新成交价的。

假设：前一笔的成交价格为C，最新成交价为D；则，当

```
A<=C时，D=A；（如果前一笔成交价高于或等于买入价，则最新成交价就是买入价）

B>=C时，D=B；（如果前一笔成交价低于或等于卖出价，则最新成交价就是卖出价）

B<C<A时，D=C；（如果前一笔成交价在卖出价与买入价 之间，则最新成交价就是前一笔的成交价）撮合价的优点：既显示了公平性，又使成交价格具有相对连续性，避免了不必要的无规律跳跃。
```

关于OKCoin为什么会出现买入价高于卖出价的情况解释：

那么OKCoin为什么会出现买入价高于卖出价的情况呢？OKCoin的所有用户挂单会立即进入撮合系统，由于规模巨大的攻击，导致OKCoin撮合系统速度变慢，由于严格执行撮合算法，会按挂单先后顺序和挂单价格依次成交，所以会出现某些后来的高价挂单没有成交的现象。我们会继续努力提升撮合系统性能，给大家提供越来越好的交易体验。
